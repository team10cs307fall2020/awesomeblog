<% @user = User.find_by(:username => @profile.Name) %>
<% if @user.id != current_user.id and Block.exists?(:user_id => @user.id, :name => current_user.username, :category => "User") %>
  <h3>Sorry, seems that you have been blocked by this user, try to be nice!</h3>
  <form>
    <input type="button" value="Go Back" onclick="history.go(-1)">
  </form>
<% else %>



  <h1><%= @profile.Name %>'s Profile</h1>
  <p>
    <strong>Name:</strong>
    <%= @profile.Name %>
  </p>

  <p>
    <strong>Gender:</strong>
    <%= @profile.gender %>
  </p>

  <p>
    <strong>Bio:</strong>
    <%= @profile.Bio %>
  </p>


  <% @user = User.find_by(:username => @profile.Name) %>
  <%= link_to 'Back to Topic', topics_path %>
  <% if @user.id != current_user.id and !Following.exists?(:user_id => current_user.id, :name => @user.username, :category => "User") %>
    <% if @user.id != current_user.id and !Block.exists?(:user_id => current_user.id, :name => @user.username, :category => "User") %>
      |
      <%= link_to 'Follow', follow_user_user_following_path(:name => @profile.Name, :category => "User") %>
    <% end %>
  <% end %>
  <br>
  <%= link_to 'Userline', userline_user_path(@profile.user) %> |
  <%= link_to 'Followings', view_following_path(@profile.user) %>
  <br>
  <% if @user.id != current_user.id and !Block.exists?(:user_id => current_user.id, :name => @user.username, :category => "User") %>
    <%= link_to 'Block', block_user_user_block_path(:name => @profile.Name, :category => "User") %>
  <% end %>
<% end %>